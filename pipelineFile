pipeline {
    agent any

    stages {
        stage('scm') {
	    agent { label "Controller" }
            steps {
		dir ("appname") {
			git credentialsId: 'Balaji-GitHub', branch: "main",
			url: "git@github.com:balaji1975/devops.git";
		}
            }
        }
	stage ('build'){
	    agent { label "Controller" }
	    steps {
		sh """
			cd appname
			mvn clean
			mvn compile
		"""
            }
	}
    }
}
