pipeline {
    agent any

    stages {
        stage('scm') {
	    agent { label "Controller" }
            steps {
		dir ("${appName}") {
			git credentialsId: 'Balaji-GitHub', branch: "main",
			url: "${gitUrl}";
		}
            }
        }
	stage ('build'){
	    agent { label "Controller" }
            input {
		message "Should we proceed?"
		ok "Yes"
		submitter "Srinivasa R. Regeti"
            }	
	    steps {
		sh """
			cd "${appName}"
			mvn clean
			mvn compile
		"""
            }
	}
    }
}
